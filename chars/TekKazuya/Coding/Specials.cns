;------------------------------------------
; Demon God Fist
; Weak
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000,0
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 4
value = 1, 2

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1000, 1

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 2 
x = 4

[State 1000, Hand Explod]
type = Explod
trigger1 = animelem = 3
anim = 10070
ID = 10070
pos = 10,-145;10
postype = p1
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
scale = .5,.5
sprpriority = 5
removeongethit = 1
ontop = 1
ownpal = 1


[State 1000, Hit Near] 
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 86 < 7, 7, fvar(11) * 86)), 7
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 10,15
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 100), var(36) := -73
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -5, -0.8
air.velocity = -6,-5
guard.velocity = -10
airguard.velocity = -8, -3
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(7) >= 0
movetype = I

[State 1000, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; Demon God Fist
; medium
[Statedef 1010]
type = S
movetype = A
physics = S
anim = 1010
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1010, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000,0
channel = 0

[State 1010, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 4
value = 1, 2

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1000, 1

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 2 
x = 5

[State 1000, Hand Explod]
type = Explod
trigger1 = animelem = 3
anim = 10070
ID = 10070
pos = 10,-145;10
postype = p1
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
scale = .5,.5
sprpriority = 5
removeongethit = 1
ontop = 1
ownpal = 1

[State 1010, Hit Near] 
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 95 < 7, 7, fvar(11) * 95)), 7
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 10,10
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 100), var(36) := -73
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -5, -0.8
air.velocity = -6,-5
guard.velocity = -10
airguard.velocity = -8, -3
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1010, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(7) >= 0
movetype = I

[State 1010, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; Demon God Fist
; Strong
[Statedef 1020]
type = S
movetype = A
physics = S
anim = 1020
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1020, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000,0
channel = 0

[State 1020, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 4
value = 1, 2

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1000, 1

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 2 
x = 6

[State 1000, Hand Explod]
type = Explod
trigger1 = animelem = 3
anim = 10070
ID = 10070
pos = 10,-145;10
postype = p1
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
scale = .5,.5
sprpriority = 5
removeongethit = 1
ontop = 1
ownpal = 1

[State 1020, Hit Near] 
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 104 < 7, 7, fvar(11) * 104)), 7
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 10,10
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 100), var(36) := -73
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -5, -0.8
air.velocity = -6,-5
guard.velocity = -10
airguard.velocity = -8, -3
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1020, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(7) >= 0
movetype = I

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; EX Demon God Fist
; Weak
[Statedef 1030]
type = S
movetype = A
physics = S
anim = 1030
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

;[State -2, EMO SHIELD]  ;TEMP
;type = helper
;triggerall = !NumHelper(915)
;trigger1 = AnimElemtime(1)=0
;ID = 915
;stateno = 915
;pos = 0, 0
;postype = p1
;helpertype = normal
;name = "EMO"
;pausemovetime = 999999
;supermovetime = 999999
;sprpriority = 7
;ownpal = 1
;keyctrl = 0
;ignorehitpause = 1
;
;[State -2, Pain Train NotHitBy]
;type = NotHitBy
;trigger1 = NumHelper(915)
;value = SCA
;;value2 = S,NA
;time = 1
;ignorehitpause = 1
;;persistent =

[State 1030, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -335

[State 1030, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000,0
channel = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 
x = 12
y = 0

[State 1030, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 4
value = 1, 2

[State 1100, Electric]
type = PlaySnd
trigger1 = Animelem = 4
value = 1170, 1

[State 1030, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1030, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 4, -67
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1030, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
stateno = 8103
ID = 8100
name = "Dash Dust"
postype = p1
pausemovetime = 255
supermovetime = 255
ownpal = 1

[State 8150, Flame Explod 1]
type = Explod
trigger1 = AnimElem = 3
anim = 8155
sprPriority = 3
posType = P1
pos = 38, -73
vel = (Random / 2000.0), -0.5 - (Random / 2000.0)
scale = 0.25,0.25
ownpal = 1
[State 8150, Flame Explod 1]
type = Explod
trigger1 = AnimElem = 4
anim = 8155
sprPriority = 3
posType = P1
pos = 65, -75
vel = (Random / 2000.0), -0.5 - (Random / 2000.0)
scale = 0.28,0.28
ownpal = 1
[State 8150, Flame Explod 1]
type = Explod
trigger1 = AnimElem = 5
anim = 8155
sprPriority = 2
posType = P1
pos = 36, -72
vel = (Random / 2000.0), -0.5 - (Random / 2000.0)
scale = 0.20,0.20
ownpal = 1

[State 1030, Hit]
type = HitDef
triggerall = !NumTarget(1030)
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 10,10
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 100), var(36) := -73
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4, -0.8
air.velocity = -8,-8
guard.velocity = -10
airguard.velocity = -8.5, -3
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120
id = 1030
p2facing = 1
p2stateno = 1039

[State 1100, Electric]
type = PlaySnd
trigger1 = MoveHit = 1 && NumTarget
value = 2, 9

[State 1300, Shock Particles]
type = Helper
trigger1 = !NumHelper(8155)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8155
ID = 8155
name = "Shock Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 1030, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(7) >= 0
movetype = I

[State 1030, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

;DGF Stun
[Statedef 1039]
Type = S
MoveType = H
Physics = S
PowerAdd = 0
ctrl = 0
velset = -7, 0
sprpriority = 1

[State 1114100, Anim]
type = changeanim2
trigger1 = !time 
value = 1039

[State 1114100, Stop]
type = posset
trigger1 = 1
y = 0
[State 1114100, Stop]
type = velset
trigger1 = 1
y = 0
[State 1114100, dust]
type = gamemakeanim
trigger1 = anim = 1114100 && animelem = 7
value = 60
pos = 0, 0
under = sysvar(1) <= 14
[State 1114100, snd]
type = playsnd
trigger1 = anim = 1114100 && animelem = 7
value = f7, 0

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
stateType = L

[State 1114100, Anim]
type = changeanim
trigger1 = time >= 75 && selfanimexist(5111)
value = 5111
[State 1114100, End]
type = selfstate
trigger1 = time >= 75
value = ifelse(alive, 5120, 5150)

;---------------------------------------------------------------------------
;Mist Step
[Statedef 1050]
type=S
movetype=I
physics=S
velset=0,0
anim=1050
ctrl=0
sprpriority=0

[State 3000]
type = NotHitBy
trigger1 = AnimElemTime(1)>=0 && AnimElemTime(5)<2
value = ,AP

[State 0, Width]
type = Width
trigger1 = AnimElemTime(1)>=0 && AnimElemTime(5)<2 
player = 35,0

[State 1100,VarInitialize]
type=VarSet
trigger1=!time
var(2)=0

[State 1100,VarSet]
type=VarSet
triggerall = AnimElemTime(4)>5
trigger1 = command = "MistStep (Var2)"
var(2)=1

[State 1100,VarSet]
type=VarSet
;triggerall = time>0
trigger1 = command = "x"
var(2)=2

[State 1100,VarSet]
type=VarSet
;triggerall = time>0
trigger1 = command = "y" || command = "z"
var(2)=3

[State 1100,VarSet]
type=VarSet
triggerall = ifelse(var(20) <= 0, power >= 500, power >= 0)
trigger1 = command = "x" && command = "y" || command = "y" && command = "z" || command = "x" && command = "z"
var(2)=4

[State 1100,VarSet]
type=VarSet
triggerall = Time<4
trigger1 = command = "y" || command = "z"
var(2)=5

[State 1100,VarSet]
type=VarSet
;triggerall = time>0
trigger1 = command = "a"
var(2)=6

[State 1100,VarSet]
type=VarSet
;triggerall = time>0
trigger1 = command = "b" ||command = "c" 
var(2)=7

[State 1100,VarSet]
type=VarSet
triggerall = ifelse(var(20) <= 0, power >= 500, power >= 0)
trigger1 = command = "a" && command = "b" || command = "b" && command = "c" || command = "a" && command = "c"
var(2)=12

[State 1000, Spark]
type = Explod
trigger1 = !Time
Anim = 8045
pos = 0, 0
postype = p1
ownpal = 1
bindtime = 1
pausemovetime = -1
supermovetime = 1
ignorehitpause = 1
scale = .5,.5
sprpriority = 4

[State 810, 0]
type = PlaySnd
trigger1 = !Time
value = s1050,0
channel = 20

[State 102, vel]
type = velset
trigger1 = Time = 3
x = 14

[State 1100,ChangeState]
type=ChangeState
triggerAll = time <4
trigger1 = Var(2)=5
trigger2= AILevel && random<500 && numenemy
trigger2= enemynear, statetype = S && p2bodydist x <30
trigger3= AILevel && random<500 && numenemy
trigger3= enemynear, statetype = A && p2bodydist x <60
trigger4= AILevel && random<800 && numenemy
trigger4= (NumTarget(1165) || NumTarget(1530) || NumTarget(1590))&& p2bodydist x <45
value=1160

[State 1100,ChangeState]
type=ChangeState
triggerAll = time >= 0
trigger1 = Var(2)=1
value=1050

[State 1100,ChangeState]
type=ChangeState
triggerAll = time >= 0
trigger1 = Var(2)=2
value=1060

[State 1100,ChangeState]
type=ChangeState
triggerAll = time >= 0
trigger1 = Var(2)=4
value=1150

[State 1100,ChangeState]
type=ChangeState
triggerAll = time >= 0
trigger1 = Var(2)=3
trigger2= AILevel && random<500 && numenemy
trigger2= enemynear, statetype = S && p2bodydist x <35
trigger3= AILevel && random<500 && numenemy
trigger3= enemynear, statetype = A && p2bodydist x <65
trigger4= AILevel && random<700 && numenemy
trigger4= (NumTarget(1165) || NumTarget(1530) || NumTarget(1590))&& p2bodydist x <65
value=1100

[State 1100,ChangeState]
type=ChangeState
triggerAll = time >= 0 && (ifelse(var(20) <= 0, power >= 500, power >= 0))
trigger1 = !AILevel && Var(2)=12
trigger2 = AILevel && random<400 && numenemy
trigger2= enemynear, statetype = A && (p2bodydist x =[20,180])
trigger3 = AILevel && random<200 && numenemy
trigger3 = p2statetype = L && p2stateno != 5120
trigger3 = (p2bodydist x = [0, 46]) && p2dist y = 0
value=1310

[State 1100,ChangeState]
type=ChangeState
triggerAll = time >= 0
trigger1 = !AILevel && Var(2)=6
trigger2 = AILevel && random<500 && numenemy
trigger2= enemynear, statetype = A && (p2bodydist x =[40,240])
value=1200

[State 1100,ChangeState]
type=ChangeState
triggerAll = time >= 0
trigger1 = !AILevel && Var(2)=7
trigger2 = AILevel && random<400 && numenemy
trigger2= enemynear, statetype = A && (p2bodydist x =[20,180])
value=1300

[State 102, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;------------------------------------------
; Dragon Uppercut
; CNS difficulty: easy
[Statedef 1060]
type    = S
movetype= A
physics = S
poweradd= 70 * !var(20)
ctrl = 0
velset = 0,0
anim = 1060
sprpriority = 2
facep2 = 1

[State , NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(4) < 0
time = 1
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1060,0
channel = 0

[State 220, Swing Snd]
type = playsnd
trigger1 = animelem = 3
value = 1,2
channel = 1

[State 1300, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1100,VarInitialize]
type=VarSet
trigger1=!time
var(2)=0

[State 1300, To Middle Kick]
type = ChangeState
triggerall = StateType = A
trigger1 = command != "holddown"
trigger1 = command = "a" || command = "b" || command = "c"
trigger1 = AnimElemTime(5) > 5 && AnimElemTime(8) < 0
value = 1070

[State 1300, To Middle Kick]
type = ChangeState
triggerall = StateType = A
trigger1 = command = "holddown"
trigger1 = command = "a" || command = "b" || command = "c"
trigger1 = AnimElemTime(5) > 5 && AnimElemTime(8) < 0
value = 1073

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0

[State 1300, Rising Velocity]
type = VelSet
trigger1 = AnimElem = 4
x = 3.4
y = -8.2

[State 1030, 1]
type = Velmul
trigger1 = animelemtime(4) > 0
x= 0.95415

[State 1300, Gravity]
type = VelAdd
trigger1 = AnimElemTime(4) > 0
y = 0.6

[State 40, Jump Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40, 0

[State 40, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 3
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Diagup          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 94 < 7, 7, fvar(11) * 94)), 8
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 28), var(36) := -72
hitsound = s2,2
guardsound = s130, 0
air.animType = up
fall.animType = up
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 
ground.hittime = 18
guard.hittime = 18
air.hittime = 120
ground.velocity = -5.5,-11.5
guard.velocity = -7
air.velocity = -3.5,-7
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .48
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 4 && !movecontact && !movereversed
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Diagup          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 86 < 7, 7, fvar(11) * 86)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 20), var(36) := -127
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -5.5,-8
guard.velocity = -7
air.velocity = -3.5,-7
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .48
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 5 && !movecontact && !movereversed
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Diagup          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 86 < 7, 7, fvar(11) * 86)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 20), var(36) := -127
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -5.5,-8
guard.velocity = -7
air.velocity = -3.5,-7
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120

[State 220, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(7) >= 0
moveType = I

[State 1300, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1061

;Landing
[Statedef 1061]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1061
velset = 0, 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;To Middle kick
[StateDef 1070]
type = A
physics = N
moveType = A
anim = 1070
ctrl = 0
sprPriority = 1
powerAdd = 30 * !var(20)

[State 1305, PosAdd]
type = PosAdd
trigger1 = !Time 
x = 10
y = -10

[State 1305, Gravity]
type = VelAdd
trigger1 = 1
y = 0.38

[State 1305, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1071

;---------------------------------------------------------------------------
; Finish
; CNS difficulty: easy
[Statedef 1071]
type    = S
movetype= A
physics = S
poweradd= 0 * !var(20)
ctrl = 0
velset = 0,0
anim = 1071
sprpriority = 2
facep2=1

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = !Time
value = 52,0

[State 1305, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,5
channel = 1
Persistent = 0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 250, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 1
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = Diagup          ;light,medium,hard,back,up,diagup
priority = 4,Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 51 < 7, 7, fvar(11) * 51)), 7
getpower = ifElse(!var(13), 75, 38)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 81), var(36) := -65
hitsound = s2,5
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 
ground.hittime = 18 
guard.hittime = 18
air.hittime = 120
ground.velocity = -9, -2.2
guard.velocity = -9
air.velocity = -5.5,-6.8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 250, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 250, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; ...To Sweeping Low
[Statedef 1072]
type = S
movetype = A
physics = S
anim = 1072
ctrl = 0
velset = 0,0
powerAdd = 30 * !var(20)
sprpriority = 2
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 5

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 6
attr = A, SA
damage = ceil(ifElse(fvar(11) * 91 < 7, 7, fvar(11) * 91)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5, -6
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
moveType = I

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;To Middle kick
[StateDef 1073]
type = A
physics = N
moveType = A
anim = 1073
ctrl = 0
sprPriority = 1
powerAdd = 30 * !var(20)

[State 1305, Gravity]
type = VelAdd
trigger1 = 1
y = 0.52

[State 1305, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1072

;------------------------------------------
; Rising Upper
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1160,0
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 1
value = 1, 2

[State 1100, Electric]
type = PlaySnd
trigger1 = Animelem = 3
value = 1170, 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 0, Explod]
type = Explod
trigger1 = AnimElem=3
anim = 1170
ID = 1170
pos=15,-54
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .4,.4
ignorehitpause=0
removetime=10
trans = add
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 1171
ID = 1171
pos=17,-90
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .2,.2
ignorehitpause=0
removetime=7
trans = add
removeongethit = 1

[State 1100, Hit 1] 
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 70 < 7, 7, fvar(11) * 70)), 7
priority = 4, hit
animtype = diagup
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 8,13
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 30), var(36) := -64
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.25, -8.5
air.velocity = -1.85,-8.3
guard.velocity = -8
airguard.velocity = -3.5, -8
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120
ID = 1165

[State 1300, Shock Particles]
type = Helper
trigger1 = !NumHelper(8155)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8155
ID = 8155
name = "Shock Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 1100, Electric]
type = PlaySnd
trigger1 = MoveHit = 1 && NumTarget
value = 2, 9

[State 1100, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
movetype = I

[State 1100, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; EX Rising Upper
[Statedef 1150]
type = S
movetype = A
physics = S
anim = 1150
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State , NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1120, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -335

[State 1120, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,0
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 1
value = 1, 2

[State 1100, Electric]
type = PlaySnd
trigger1 = Animelem = 3
value = 1170, 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 0, Explod]
type = Explod
trigger1 = AnimElem=3
anim = 1172
ID = 1172
pos=15,-54
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .4,.4
ignorehitpause=0
removetime=10
trans = add
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 1173
ID = 1173
pos=17,-80
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .35,.35
ignorehitpause=0
removetime=7
trans = add
removeongethit = 1

[State 1120, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1120, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 25

[State 1120, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 3, -68
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1120, Hit 1&2] 
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 85 < 7, 7, fvar(11) * 85)), 7
priority = 4, hit
animtype = diagup
getpower = 0, 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 8,15
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 30), var(36) := -64
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.25, -8.5
air.velocity = -0.75, -8.3
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 16
envshake.ampl = 4
envShake.freq = 120
ID = 1165

[State 1300, Shock Particles]
type = Helper
trigger1 = !NumHelper(8155)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8155
ID = 8155
name = "Shock Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 1100, Electric]
type = PlaySnd
trigger1 = MoveHit = 1 && NumTarget
value = 2, 9

[State 1120, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
movetype = I

[State 1120, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; E.W.G.F
[Statedef 1160]
type = S
movetype = A
physics = S
anim = 1150
ctrl = 0
velset = 0,0
poweradd = 80 * !var(20)
sprpriority = 2
facep2 = 1

[State , NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,0
channel = 0

[State 1120, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1, 2

[State 1100, Electric]
type = PlaySnd
trigger1 = Animelem = 3
value = 1172, 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 0, Explod]
type = Explod
trigger1 = AnimElem=3
anim = 1172
ID = 1172
pos=15,-54
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .4,.4
ignorehitpause=0
removetime=10
trans = add
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 1173
ID = 1173
pos=17,-85
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .3,.3
ignorehitpause=0
removetime=7
trans = add
removeongethit = 1

[State 1120, Hit 1&2] 
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 90 < 7, 7, fvar(11) * 90)), 7
priority = 4, hit
animtype = diagup
getpower = 60 * !var(20), 40 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 8,15
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 30), var(36) := -64
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.25, -8.5
air.velocity = -0.75, -8.3
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 16
envshake.ampl = 4
envShake.freq = 120
ID = 1165

[State 1300, Shock Particles]
type = Helper
trigger1 = !NumHelper(8155)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8155
ID = 8155
name = "Shock Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 1100, Electric]
type = PlaySnd
trigger1 = MoveHit = 1 && NumTarget
value = 2, 9

[State 1120, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
movetype = I

[State 1120, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; Hell Lancer
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[state a]
type = statetypeset
trigger1 = animelem = 3
statetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7
y = -4

[state a]
type = veladd
trigger1 = animelem = 3,>0
y = 0.35

[State 1200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1200, Jump Sound]
type = PlaySnd
trigger1 = Animelem = 3
value = 40, 0

[State 40, Dust Helper]
type = Helper
trigger1 = Animelem = 3
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 5

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 96 < 7, 7, fvar(11) * 96)), 7
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 50), var(36) := -75
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -9, -5.5
air.velocity = -5,-5.5
guard.velocity = -10
airguard.velocity = -5, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 16
envshake.ampl = 6
envShake.freq = 150

[State 1200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(5) > 8
movetype = I

[State 1300, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1201

;Landing
[Statedef 1201]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1201
velset = 2, 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; Spinning Demon
[Statedef 1300]
type = S
movetype = A
physics = S
anim = 1300
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1160,0
channel = 0

[State 1100,VarInitialize]
type=VarSet
trigger1=!time
var(2)=0

[State 1100,VarSet]
type=VarSet
triggerall = time > 0
trigger1 = command = "b"
trigger2 = command = "c"
var(2)=8

[State 1100,VarSet]
type=VarSet
triggerall = time > 0
trigger1 = command = "x"
var(2)=11

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 4
value = 1, 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = 3

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 5
attr = A, SA
damage = ceil(ifElse(fvar(11) * 58 < 7, 7, fvar(11) * 58)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = low
air.type = low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4.5
air.velocity = -4.5,-6.5
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
moveType = I

[State 1100,ChangeState]
type=ChangeState
trigger1 = time = 24
trigger1 = Var(2)=8
value=1301

[State 1100,ChangeState]
type=ChangeState
trigger1 = animelem = 9
trigger1 = Var(2)=11
value=1302

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; Spinning Demon
[Statedef 1301]
type = S
movetype = A
physics = S
anim = 1301
ctrl = 0
velset = 0,0
powerAdd = 30 * !var(20)
sprpriority = 2
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 0

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 3
attr = A, SA
damage = ceil(ifElse(fvar(11) * 52 < 7, 7, fvar(11) * 52)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5, -6
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
moveType = I

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; Spinning Demon Hook
[Statedef 1302]
type = S
movetype = A
physics = S
anim = 1302
ctrl = 0
velset = 0,0
powerAdd = 30 * !var(20)
sprpriority = -5
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1, 2

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 5
attr = A, SA
damage = ceil(ifElse(fvar(11) * 48 < 7, 7, fvar(11) * 48)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 50), var(36) := -68
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -3.5, -6
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
;EX Spinning Demon
[Statedef 1310]
type = S
movetype = A
physics = S
anim = 1300
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1030, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -335

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1100,VarInitialize]
type=VarSet
trigger1=!time
var(2)=0

[State 1100,VarSet]
type=VarSet
triggerall = time > 0
trigger1 = command = "b"
trigger2 = command = "c"
var(2)=13

[State 1100,VarSet]
type=VarSet
triggerall = time > 0
trigger1 = command = "x"
var(2)=14

[State 1030, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1030, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 4, -67
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 4
value = 1, 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = 4.5

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 5
attr = A, SA
damage = ceil(ifElse(fvar(11) * 64 < 7, 7, fvar(11) * 64)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = L
hitFlag = MAFD
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = low
air.type = low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
down.hitTime = 12
ground.velocity = -4.5
air.velocity = -4.5,-6.5
guard.velocity = -8
down.velocity = -4.5, 0
down.cornerpush.veloff = 0
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
moveType = I

[State 1100,ChangeState]
type=ChangeState
trigger1 = time = 24
trigger1 = Var(2)=13
value=1311

[State 1100,ChangeState]
type=ChangeState
trigger1 = animelem = 9
trigger1 = Var(2)=14
value=1312

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
;EX Spinning Demon
[Statedef 1311]
type = S
movetype = A
physics = S
anim = 1301
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = 4.5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 0

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 3
attr = A, SA
damage = ceil(ifElse(fvar(11) * 56 < 7, 7, fvar(11) * 56)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = LA
hitFlag = MAFD
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
down.hitTime = 6
ground.velocity = -1.5, -6
guard.velocity = -6.5
down.velocity = -3.5, 0
down.cornerpush.veloff = 0
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
moveType = I

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
;EX Spinning Demon Hook
[Statedef 1312]
type = S
movetype = A
physics = S
anim = 1302
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = -5
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1, 2

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 5
attr = A, SA
damage = ceil(ifElse(fvar(11) * 52 < 7, 7, fvar(11) * 52)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 50), var(36) := -68
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -3.5, -6
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Rising Sun
[Statedef 1400]
type = S
movetype = A
physics = S
anim = 1400
ctrl = 0
velset = 4,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1400, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,2
channel = 0

[State 1400, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 5

[State 1300, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1400, Velocity]
type = VelSet
trigger1 = AnimElem = 4
x = 4
y=-1.9

[State 1300, Gravity]
type = VelAdd
trigger1 = AnimElemTime(7) > 0
y = 0.58

[State 1400, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 8
attr = S, SA
damage = ceil(ifElse(fvar(11) * 86 < 7, 7, fvar(11) * 86)), 7
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 60), var(36) := -71
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -9, 0
air.velocity = -5,-5
guard.velocity = -10
airguard.velocity = -5, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1400, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(9) >= 0
movetype = I

[State 1400, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1405
ctrl = 0

;Landing
[Statedef 1405]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1405
velset = 2, 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;Medium
[Statedef 1410]
type = S
movetype = A
physics = S
anim = 1400
ctrl = 0
velset = 4,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1400, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,2
channel = 0

[State 1400, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 5

[State 1300, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1400, Velocity]
type = VelSet
trigger1 = AnimElem = 4
x = 3.5
y=-1.9

[State 1300, Gravity]
type = VelAdd
trigger1 = AnimElemTime(7) > 0
y = 0.58

[State 1400, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 8
attr = S, SA
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 7
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 60), var(36) := -71
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -9, 0
air.velocity = -5,-5
guard.velocity = -10
airguard.velocity = -5, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1400, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(9) >= 0
movetype = I

[State 1400, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1415
ctrl = 0

;1 Sweep kick
[Statedef 1415]
type = S
movetype = A
physics = S
anim = 1415
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 5

[State 0, VelSet]
type = VelSet
trigger1 = time=[0,18]
x = 1.5

[State 1400, Friction]
type = VelMul
trigger1 = 1
x = 0.5

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 3
attr = A, SA
damage = ceil(ifElse(fvar(11) * 36 < 7, 7, fvar(11) * 36)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5, -6
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
moveType = I

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Strong
[Statedef 1420]
type = S
movetype = A
physics = S
anim = 1400
ctrl = 0
velset = 4,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1400, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,2
channel = 0

[State 1400, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 5

[State 1300, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1400, Velocity]
type = VelSet
trigger1 = AnimElem = 4
x = 3
y=-1.9

[State 1300, Gravity]
type = VelAdd
trigger1 = AnimElemTime(7) > 0
y = 0.58

[State 1400, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 8
attr = S, SA
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 7
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 60), var(36) := -71
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -9, 0
air.velocity = -5,-5
guard.velocity = -10
airguard.velocity = -5, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1400, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(9) >= 0
movetype = I

[State 1400, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1425
ctrl = 0

;2 Sweep kicks
[Statedef 1425]
type = S
movetype = A
physics = S
anim = 1425
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1100,VarInitialize]
type=VarSet
trigger1=!time
var(2)=0

[State 1100,VarSet]
type=VarSet
triggerall = time > 26
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "rlsa" || command = "rlsb" || command = "rlsc"
var(2)=15

[State 0, VelSet]
type = VelSet
trigger1 = time=[0,34]
x = 1.5

[State 1400, Friction]
type = VelMul
trigger1 = time = [22,38]
x = 0.6

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 5

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 10
value = 1, 5

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifElse(fvar(11) * 23 < 7, 7, fvar(11) * 23)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = low
air.type = low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 12
attr = A, SA
damage = ceil(ifElse(fvar(11) * 22 < 7, 7, fvar(11) * 22)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5, -6
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(13) >= 0
moveType = I

[State 1100,ChangeState]
type=ChangeState
trigger1 = time = 33
trigger1 = Var(2)=15
value=1445

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;EX Rising Sun
[Statedef 1430]
type = S
movetype = A
physics = S
anim = 1430
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State , NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(9) < 0
time = 1
value = SCA

[State 1430, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -335

[State 1430, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1430, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 40

[State 1430, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 15, -48
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1400, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,2
channel = 0

[State 1400, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 5

[State 1300, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1400, Velocity]
type = VelSet
trigger1 = AnimElem = 4
x = 4
y=-1.9

[State 1300, Gravity]
type = VelAdd
trigger1 = AnimElemTime(7) > 0
y = 0.45

[State 1400, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 8
attr = S, SA
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 60), var(36) := -71
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -9, 0
air.velocity = -5,-5
guard.velocity = -10
airguard.velocity = -5, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1400, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(9) >= 0
movetype = I

[State 1400, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1435
ctrl = 0

;2 Sweep kicks
[Statedef 1435]
type = S
movetype = A
physics = S
anim = 1435
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1430, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 60

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1301, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1301, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1100,VarInitialize]
type=VarSet
trigger1=!time
var(2)=0

[State 1100,VarSet]
type=VarSet
triggerall = time > 10
triggerall = command = "a" || command = "b" || command = "c" || command = "rlsa" || command = "rlsb" || command = "rlsc"
trigger1 = !Command = "holddown"
var(2)=16

[State 1100,VarSet]
type=VarSet
triggerall = time > 10
triggerall = command = "a" || command = "b" || command = "c" || command = "rlsa" || command = "rlsb" || command = "rlsc"
trigger1 = command = "holddown"
var(2)=17

[State 0, VelSet]
type = VelSet
trigger1 = time=[0,34]
x = 2.4

[State 1400, Friction]
type = VelMul
trigger1 = time = [22,38]
x = 0.6

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 2
value = 1, 5

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 10
value = 1, 5

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5, -3.5
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 12
attr = A, SA
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5, -6
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(13) >= 0
moveType = I

[State 1100,ChangeState]
type=ChangeState
trigger1 = time = 33
trigger1 = Var(2)=16
value=1446

[State 1100,ChangeState]
type=ChangeState
trigger1 = time = 33
trigger1 = Var(2)=17
value=1447

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rising Sun Roundhouse
; CNS difficulty: easy
[Statedef 1445]
type    = S
movetype= A
physics = S
poweradd= 30 * !var(20)
ctrl = 0
velset = 0,0
anim = 1445
sprpriority = 2
facep2=1

[State 250, Voice]
type=playsnd
trigger1= animelem=1 && random<500
value= 0, ifelse(random<500, 0, 1)
channel=0

[State 250, Swing Snd]
type=playsnd
trigger1= animelem=2
value=1,5
channel=1

[State 250, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 5
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4,Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 42 < 7, 7, fvar(11) * 42)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 81), var(36) := -65
hitsound = s2,5
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 17 + 4*var(9)
guard.hittime = 12
air.hittime = 120
ground.velocity = -9
guard.velocity = -9
air.velocity = -5.5,-6.8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 250, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 250, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;EX Rising Sun Roundhouse
; CNS difficulty: easy
[Statedef 1446]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1445
sprpriority = 2
facep2=1

[State 1430, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 60

[State 250, Voice]
type=playsnd
trigger1= animelem=1 && random<500
value= 0, ifelse(random<500, 0, 1)
channel=0

[State 250, Swing Snd]
type=playsnd
trigger1= animelem=2
value=1,5
channel=1

[State 250, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 5
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4,Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 55 < 7, 7, fvar(11) * 55)), 7
getpower = 0, 0
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 81), var(36) := -65
hitsound = s2,5
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 17 + 4*var(9)
guard.hittime = 12
air.hittime = 120
ground.velocity = -9
guard.velocity = -9
air.velocity = -5.5,-6.8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 250, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 250, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;1 More Sweep kick
[Statedef 1447]
type = S
movetype = A
physics = S
anim = 1440
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1430, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 60

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0
channel = 0

[State 1301, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1, 5

[State 0, VelSet]
type = VelSet
trigger1 = time=[0,18]
x = 1.5

[State 1400, Friction]
type = VelMul
trigger1 = 1
x = 0.5

[State 1300, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 55 < 7, 7, fvar(11) * 55)), 7
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = LA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -18
air.animtype = Back
fall.animtype = Back
ground.type = trip
air.type = trip
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.5, -3.5
guard.velocity = -6.5
air.velocity = -1.5, -6
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
moveType = I

[State 1301, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Slaughter Hook
[Statedef 1500]
type = S
movetype = A
physics = S
anim = 1500
ctrl = 0
velset = 4,0
poweradd = 30 * !var(20)
sprpriority = 2
facep2 = 1

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 7
value = S1,2

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
value = S1500,0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 5

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 6 
x = 4

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 9 
x = 0

[State 1000, Auto Guard]
type = ReversalDef
trigger1 = AnimElemTime(2)  >= 0 && AnimElemTime(4) < 0
reversal.attr = SCA, NA, SA
pauseTime = 12,14
sparkNo = -1 + 0 * (var(33) := 8001)
sparkXY = -10 + 0 * (var(35) := 38), (var(36) := -73)
hitSound = S130,0
numHits = 0

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M        ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 8,8
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 50), var(36) := -77
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = high      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -3
guard.velocity = -1.8
air.velocity = -1.25,-1
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .48
air.fall = 1
fall = 0
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = !NumTarget(1590)
trigger1 = AnimElem = 8
ID = 1590
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = HA        ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 41 < 7, 7, fvar(11) * 41)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -57
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -1.33,9.5
guard.velocity = -6
air.velocity = -1 ,-3
;fall.xvelocity = -1.0
;fall.yvelocity = -8.0
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 220, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(10) >= 0
moveType = I

[State 1331, P2 Custom State]
type = TargetState
trigger1= MoveHit =1 && NumTarget(1590)
;trigger1= Target(1590)
ID = 1590
value = 1590
ignorehitpause=1

[State 1390, Juggle Reset]
type = VarSet
trigger1 = MoveHit=1 && AnimElem = 8 && NumTarget
var(15) = 0
ignoreHitPause=1

[State 220, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;===============Hit by EX Rage Run(Fall)============
[Statedef 1590]
type = A
movetype = H
physics = N
velset = -1.5,8

[State 1390, Width]
type = Width
trigger1 = 1
edge = 25,-25
player = 25,0

[State 1390, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5030

[State 1390, Muteki]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1390, Bounce]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0;pos y > -vel y
value = 1591

;Ground Bounce Neo
[Statedef 1591]
type = A
movetype = H
physics = N
velset = 0,0

[State 1391, On Ground]
type = PosSet
trigger1 = !Time
y = 0

[State 1391, Muteki]
type = NotHitBy
trigger1 = AnimElemTime(2)<0
value = SCA

;[State 1391, SFX]
;type = PlaySnd
;trigger1 = Time=1
;value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1391, EnvShake]
type = EnvShake
trigger1 = Time=1
time = 14
ampl = 5

[State 1391, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 6160;5160

[State 1391, Velset]
type = VelSet
trigger1 = AnimElemTime(2)=0;Time=0
x = -0.8
y = -7.5

[State 1391, Gravity]
type = VelAdd
trigger1 = 1
y = 0.38
;------------------
[State 1391, AngleAdd];special thanks to Zzyzzyxx
type = AngleAdd
trigger1 = Time > 2
value = ifelse((facing != enemynear, facing), 22, -22)

[State 1391, AngleDraw]
type = AngleDraw
trigger1 = Time > 2

[State 1391, AngleSet]
type = AngleSet
trigger1 = (pos y-16)>-vel y;pos y > -vel y
value = 0
ignorehitpause = 1
;------------------
[State 1391, End]
type = SelfState
trigger1 = (pos y-16)>-vel y
value = 5100

;Slaughter High Kick
[Statedef 1510]
type = S
movetype = A
physics = S
anim = 1510
ctrl = 0
velset = 4,0
poweradd = 30 * !var(20)
sprpriority = 2
facep2 = 1

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 9
value = S1,5

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
value = S1500,0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 5

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 8 
x = 4

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 11 
x = 0

[State 1000, Auto Guard]
type = ReversalDef
trigger1 = AnimElemTime(2)  >= 0 && AnimElemTime(4) < 0
reversal.attr = SCA, NA, SA
pauseTime = 12,14
sparkNo = -1 + 0 * (var(33) := 8001)
sparkXY = -10 + 0 * (var(35) := 38), (var(36) := -73)
hitSound = S130,0
numHits = 0

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 8,8
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 50), var(36) := -77
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = high      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -3
guard.velocity = -1.8
air.velocity = -1.25,-2
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .48
fall = 0
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 250, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 10
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4,Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 41 < 7, 7, fvar(11) * 41)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 81), var(36) := -105
hitsound = s2,5
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -9
guard.velocity = -9
air.velocity = -5.5,-6.8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 220, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(11) >= 0
moveType = I

[State 220, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Devastator
[Statedef 1520]
type = S
movetype = A
physics = S
anim = 1520
ctrl = 0
velset = 4,0
poweradd = 30 * !var(20)
sprpriority = 2
facep2 = 1

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 7
value = S1,2

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
value = S1500,0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 5

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 6 
x = 4

[State 0, VelSet]
type = VelSet
trigger1 =animelem = 9
x = 0

[State 1000, Auto Guard]
type = ReversalDef
trigger1 = AnimElemTime(2)  >= 0 && AnimElemTime(4) < 0
reversal.attr = SCA, NA, SA
pauseTime = 12,14
sparkNo = -1 + 0 * (var(33) := 8001)
sparkXY = -10 + 0 * (var(35) := 38), (var(36) := -73)
hitSound = S130,0
numHits = 0

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 8,8
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 50), var(36) := -77
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = high      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -3
guard.velocity = -1.8
air.velocity = -1.25,-2
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .48
fall = 0
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 8
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 7
getpower = ifElse(!var(13), 150, 75)*!var(20), 30 * !var(20)
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 70), var(36) := -85
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -5.33,-3.5
guard.velocity = -6
air.velocity = -1 ,-3
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Electric]
type = PlaySnd
trigger1 = Animelem = 8
value = 1170, 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem=8
anim = 1525
ID = 1525
pos=65,-82
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .3,.3
ignorehitpause=1
removetime=18
trans = add
removeongethit = 1

[State 1100, Electric]
type = PlaySnd
trigger1 =AnimElemTime(8) >= 0
trigger1 = MoveHit = 1 && NumTarget
value = 2, 9

[State 1300, Shock Particles]
type = Helper
trigger1 =AnimElemTime(8) >= 0
trigger1 = !NumHelper(8155)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8155
ID = 8155
name = "Shock Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 220, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(9) >= 0
moveType = I

[State 220, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Twin Pistons
[Statedef 1530]
type = S
movetype = A
physics = S
anim = 1530
ctrl = 0
velset = 5,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1030, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -335

[State 1030, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1030, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 4, -67
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, swing Snd]
type = PlaySnd
trigger1 = animelem = 7
value = S1,2

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
value = S1500,0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 4.5

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
x = 8

[State 1400, Friction]
type = VelMul
trigger1 = animelem = 10
x = 0.6

[State , NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(5) < 0
time = 1
value = SCA

[State 1000, Auto Guard]
type = ReversalDef
trigger1 = AnimElemTime(2)  >= 0 && AnimElemTime(4) < 0
reversal.attr = SCA, NA, SA
pauseTime = 12,14
sparkNo = -1 + 0 * (var(33) := 8001)
sparkXY = -10 + 0 * (var(35) := 38), (var(36) := -73)
hitSound = S130,0
numHits = 0

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 7
getpower = 0, 0
givepower = 30, 30
pausetime = 8,8
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 50), var(36) := -77
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = high      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -3
guard.velocity = -1.8
air.velocity = -1.25,-2
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .48
fall = 0
fall.recover = 0
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 220, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 8
id=1530
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 7
getpower = 0, 0
givepower = 30, 30
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 70), var(36) := -75
hitsound = s2,8
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18 + 4*var(9)
ground.hittime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -1.33,-12.8
guard.velocity = -6.5
air.velocity = -3.33 ,-5
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .53
fall = 1
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120


[State 220, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(10) >= 0
moveType = I

[State 220, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;------------------------------------------
; E.W.G.F
[Statedef 2900]
type = S
movetype = A
physics = S
anim = 1150
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State , NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,0
channel = 0

[State 1120, Swing Snd]
type = PlaySnd
trigger1 = Animelem = 3
value = 1, 2

[State 1100, Electric]
type = PlaySnd
trigger1 = Animelem = 3
value = 1172, 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 0, Explod]
type = Explod
trigger1 = AnimElem=3
anim = 1172
ID = 1172
pos=15,-54
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .4,.4
ignorehitpause=0
removetime=10
trans = add
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 1173
ID = 1173
pos=17,-85
postype = p1
bindtime = -1
sprpriority = 5
ownpal = 1
persistent = 0
scale = .3,.3
ignorehitpause=0
removetime=7
trans = add
removeongethit = 1

[State 1120, Hit 1&2] 
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 40 < 7, 7, fvar(11) * 40)), 7
priority = 4, hit
animtype = diagup
getpower = 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 8,15
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 30), var(36) := -64
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -1.25, -8.5
air.velocity = -0.75, -8.3
guard.velocity = -5
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 16
envshake.ampl = 4
envShake.freq = 120

[State 1300, Shock Particles]
type = Helper
trigger1 = !NumHelper(8155)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8155
ID = 8155
name = "Shock Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 1100, Electric]
type = PlaySnd
trigger1 = MoveHit = 1 && NumTarget
value = 2, 9

[State 1120, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
movetype = I

[State 1120, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1